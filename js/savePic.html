<html>

<head>
    <title> 通过js保存图片到本地 </title>
    <meta name="Generator" content="EditPlus">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <script src="./jquery-3.3.1.min.js" type="text/javascript"></script>
    <script>
        function DownLoadReportIMG(imgPathURL) {
        //如果隐藏IFRAME不存在，则添加
        if (!document.getElementById("IframeReportImg"))
        $('<iframe src="" frameborder="0" id="IframeReportImg"></iframe>').appendTo("body");
        
        if (document.all.IframeReportImg.src != imgPathURL) {
            //加载图片
            document.all.IframeReportImg.src = imgPathURL;
        }
        else {
            //图片直接另存为
            DoSaveAsIMG();
        }
    }
    function DoSaveAsIMG() {
        if (document.all.IframeReportImg.src != "about:blank"){
            document.frames("IframeReportImg").document.execCommand("SaveAs");
            console.log('save')

        }
    }
    </script>

</head>

<body>

    <input type="button" value="download image" onclick="DownLoadReportIMG('http://www.gwchina.cn/uploadfile/2016/0606/20160606043725326.png');">
    <script>
        ;
        (function () {
            var src = '//cdn.bootcss.com/eruda/1.2.4/eruda.min.js';
            document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
            document.write('<scr' + 'ipt>eruda.init();</scr' + 'ipt>');
        })();
    </script>
</body>

</html>